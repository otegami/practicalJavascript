<!DOCTYPE html>
<html>
  <head></head>
  <body>
      Interlude - Data types and comparisons
    <script>

      var myPrimitive = 10;
      var myObject = {name: 'gordon'};
      var myHouse = {color: 'blue'};
      console.log(myHouse.color);

      var color = myHouse.color;
      color = 'red';
      console.log('--- example3 ---');
      console.log(color);

      var myHouse1 = { color: 'blue'};
      var myHouse2 = myHouse1;
      myHouse2.color = 'red';
      console.log('--- example4 ---');
      console.log(myHouse1.color);
      console.log(myHouse2.color);

      console.log('--- example5 ---');
      var myHouse1 = { color: 'blue'};
      var myHouse2 = { color: 'blue'};
      myHouse2.color = 'red';
      console.log(myHouse1.color);
      console.log(myHouse2.color);

      var todoList = {
        todos: [],
        displayTodos: function() {
          if (this.todos.length === 0){
            console.log('Your todo list is empty!');
          } else {
            console.log('My Todos : ');
            for (var i = 0; i < this.todos.length; i++) {
              if (this.todos[i].completed === true) {
                console.log('(x)', this.todos[i].todoText);
              } else {
                console.log('( )', this.todos[i].todoText);
              }
            }
          }  
        },
        addTodo: function(todoText) {
          this.todos.push({
            todoText: todoText,
            completed: false
          })
          this.displayTodos();
        },
        changeTodo:function(position, todoText) {
          this.todos[position].todoText = todoText;
          this.displayTodos();
        },
        deleteTodo: function(position) {
          this.todos.splice(position, 1);
          this.displayTodos();
        },
        toggleCompleted: function(position) {
          var todo = this.todos[position];
          todo.completed = !todo.completed;
          this.displayTodos();
        },
        toggleAll: function(){
          var totalTodos = this.todos.length;
          var completedTodos = 0;

          //Get number of completed todos;
          for (var i = 0; i < totalTodos; i++) {
            if (this.todos[i].completed === true) {
              completedTodos++;
            }
          }

          // Case 1 : If everything's true, make everything false.
          if (completedTodos === totalTodos) {
            for (var i = 0; i < totalTodos; i++) {
              this.todos[i].completed = false;
            }
          // Case 2 : Otherwise, make everything true.   
          } else {
            for (var i = 0; i < totalTodos; i++) {
              this.todos[i].completed = true;
            }
          }

          this.displayTodos();
        }
      };
    </script>
  </body>
</html>